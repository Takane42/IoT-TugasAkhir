<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Monitoring System</title>
    <!-- Google Fonts - Quicksand -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="dashboard-header text-white text-center">
        <h1 class="display-5 fw-bold">IoT Monitoring System</h1>
        <p class="lead">Temperature & Humidity Monitoring</p>
        <div class="d-flex justify-content-center gap-4 mt-3">
            <span><strong>Status MQTT:</strong></span>
            <span id="status" class="fw-bold">-</span>
        </div>
    </div>

    <div class="container mb-5">
        <!-- User Info -->
        <div class="row justify-content-center mb-4">
            <div class="col-md-6">
                <div class="card text-center p-3 shadow-sm">
                    <div class="card-body">
                        <div class="d-flex justify-content-center gap-4">
                            <div><strong>Nama:</strong> Alif Naufal Ilyas</div>
                            <div><strong>NIM:</strong> G.231.22.0154</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sensor Data Cards -->
        <div class="row justify-content-center g-4 mb-5">
            <!-- Temperature Card -->
            <div class="col-md-6">
                <div class="card h-100 shadow">
                    <div class="card-header bg-danger text-white text-center py-3">
                        <h3 class="mb-0"><i class="bi bi-thermometer-half me-2"></i>Temperature</h3>
                    </div>                    <div class="card-body d-flex flex-column align-items-center">                        <div class="chart-container mb-3">
                            <canvas id="suhuChart"></canvas>
                        </div>
                        <div class="text-center mt-3">
                            <span id="suhu" class="sensor-value text-danger">-</span>
                            <span class="sensor-unit text-danger">°C</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Humidity Card -->
            <div class="col-md-6">
                <div class="card h-100 shadow">
                    <div class="card-header bg-primary text-white text-center py-3">
                        <h3 class="mb-0"><i class="bi bi-droplet-half me-2"></i>Humidity</h3>
                    </div>                    <div class="card-body d-flex flex-column align-items-center">                        <div class="chart-container mb-3">
                            <canvas id="kelembabanChart"></canvas>
                        </div>
                        <div class="text-center mt-3">
                            <span id="kelembaban" class="sensor-value text-primary">-</span>
                            <span class="sensor-unit text-primary">%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LED Controls -->
        <div class="row justify-content-center mb-4">
            <div class="col-md-8">
                <div class="card shadow">
                    <div class="card-header bg-success text-white text-center py-3">
                        <h3 class="mb-0"><i class="bi bi-lightbulb me-2"></i>LED Controls</h3>
                    </div>
                    <div class="card-body">
                        <div class="row g-4 justify-content-center">
                            <!-- LED D6 -->
                            <div class="col-md-4 text-center">                                <div class="led-control text-center">
                                    <h5 class="mb-3">LED 1 (D6)</h5>
                                    <label class="switch mx-auto d-block" style="width: 60px; margin-bottom: 10px;">
                                        <input type="checkbox" id="switch-d6" onclick="toggleLamp('d6')">
                                        <span class="slider round"></span>
                                    </label>
                                    <span id="label-d6" class="badge bg-secondary mt-2">OFF</span>
                                </div>
                            </div>
                            
                            <!-- LED D7 -->
                            <div class="col-md-4 text-center">                                <div class="led-control text-center">
                                    <h5 class="mb-3">LED 2 (D7)</h5>
                                    <label class="switch mx-auto d-block" style="width: 60px; margin-bottom: 10px;">
                                        <input type="checkbox" id="switch-d7" onclick="toggleLamp('d7')">
                                        <span class="slider round"></span>
                                    </label>
                                    <span id="label-d7" class="badge bg-secondary mt-2">OFF</span>
                                </div>
                            </div>
                            
                            <!-- LED D8 -->
                            <div class="col-md-4 text-center">                                <div class="led-control text-center">
                                    <h5 class="mb-3">LED 3 (D8)</h5>
                                    <label class="switch mx-auto d-block" style="width: 60px; margin-bottom: 10px;">
                                        <input type="checkbox" id="switch-d8" onclick="toggleLamp('d8')">
                                        <span class="slider round"></span>
                                    </label>
                                    <span id="label-d8" class="badge bg-secondary mt-2">OFF</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer class="text-center mt-5 mb-3 text-muted">
            <p>© 2025 IoT Monitoring System</p>
        </footer>
    </div>    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- MQTT.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chart.js Date Adapter -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- App Logic -->
    <script src="assets/js/app.js"></script>
    <!-- Custom UI Enhancements -->
    <script src="assets/js/custom.js"></script>
</body>
</html>
